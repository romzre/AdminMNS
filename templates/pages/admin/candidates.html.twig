{% extends "partials/base-admin.html.twig" %} 
{% block body%}
<div class='contBtnMenu'>
                <button type="button" class=" btn btn-primary btn-lg"><a href="/?area=admin&controller=home&action=index">Inscrits</a></button>
        <button type="button" class="active btn btn-primary btn-lg"><a href="/?area=admin&controller=home&action=candidates">Candidats</a></button>
        <button type="button" class="btn btn-primary btn-lg"><a href="/?area=admin&controller=home&action=trainees">Stagiaires</a></button>
</div>
<div class="cont_Search">
    <label for="myInput">Recherchez</label>
    <input type="text" id="myInput" />
</div>
<div class="contData">
    <table class="dataTable">
        <thead>
            <td class="headTable left">Prénom</td>
            <td class="headTable">Nom</td>
            <td class="headTable">Email</td>
            <td class="headTable">Formation</td>
            <td class="headTable right">Dossier Complété</td>
        </thead>
        <tbody id="myTable">
            {% for user in candidates %}
                <tr>
                    <td class="cel" data-info="Prénom" ><a class="anim-hover" href="index.php?area=admin&controller=profile&action=candidate&id={{ user.id_user }}">{{ user.firstName }}</a></td>
                    <td class="cel" data-info="Nom" ><a >{{ user.familyName }}</a></td>
                    <td class="cel" data-info="Email" ><a mailto="{{ user.email }}">{{ user.email }}</a></td>
                    <td class="cel" data-info="Formation" >{{ user.title_formation }}</td>
                    <td class="cel center" data-info="Dossier Complété" >
                    <a class="center ">
                    <div class="percent">
                        <svg>
                            <circle cx='24' cy='24' r='24' class="percent_doc1"></circle>
                            <circle cx='24' cy='24' r='24'  data-percent='{{ user.0.percent }}' class="percent_doc2"></circle>
                        </svg>
                    </div>
                    <div class="nbDoc">
                    {% for isvalid in DocValid %}
                        {% if isvalid.id_user == user.id_user %}
                            {{ isvalid.isValid }} 
                        {% endif %}
                    {% endfor %} 
                    {% for Doc in trainingDoc %}    
                        {% if user.title_formation == Doc.title_formation %}
                                / {{ Doc.nbDocs }}
                        {% endif %}
                    {% endfor %}
                    </div>
                    </a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script src="scripts/adminDash.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>
{% endblock %}